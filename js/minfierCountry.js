const e=document.getElementById("modeSwitch"),t=document.body,n=localStorage.getItem("mode"),o=document.querySelector(".loader"),c=document.querySelector(".nav_dark");"dark"===n?(t.classList.add("change_color"),e.checked=!0,c.textContent="light Mode"):(t.classList.remove("change_color"),e.checked=!1,c.textContent="dark Mode"),e.addEventListener("change",(()=>{e.checked?(t.classList.add("change_color"),localStorage.setItem("mode","dark"),e.checked=!0,c.textContent="light Mode"):(t.classList.remove("change_color"),e.checked=!1,localStorage.setItem("mode","light"),c.textContent="dark Mode")}));const a=(d="country",new URLSearchParams(window.location.search).get(d));var d;a&&async function e(t){try{const n=await fetch("https://restcountries.com/v3.1/name/"+t),c=await n.json();o.classList.add("none");const a=c[0],d=a.flags.svg,l=a.altSpellings&&a.altSpellings[1],r=a.name.common,s=a.population,m=a.region,i=a.subregion,u=a.capital&&a.capital[0],g=a.tld&&a.tld[0],h=a.currencies&&a.currencies[Object.keys(a.currencies)[0]].name,y=a?.borders;document.getElementById("flag").innerHTML=`<img src="${d}" alt="Flag">`,document.getElementById("countryName").textContent=r,document.getElementById("nativeName").textContent="Native Name: "+l,document.getElementById("population").textContent="Population: "+function(e){return e>=1e9?(e/1e9).toFixed(1)+"B":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e}(s),document.getElementById("region").textContent="Region: "+m,document.getElementById("subregion").textContent="Sub Region: "+i,document.getElementById("capital").textContent="Capital: "+u,document.getElementById("domain").textContent="Top Level Domain: "+g,document.getElementById("currency").textContent="Currency: "+h,document.querySelector(".text").textContent="Border Countries:";const C=document.getElementById("border");if(C.textContent="",y&&y.length>0)y.forEach((t=>{const n=document.createElement("button");n.textContent=t,n.addEventListener("click",(async()=>{const n=await fetch("https://restcountries.com/v3.1/alpha/"+t);e((await n.json())[0].name.common)})),C.appendChild(n)}));else{const e=document.createElement("span");e.classList.add("err"),e.textContent="N/A",C.appendChild(e)}}catch(e){console.log(e)}}(a);